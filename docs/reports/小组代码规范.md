# 编写目的

为了统一小组成员在软件开发设计过程的编程规范。使小组开发人员能很方便的理解每个目录，变量，控件，类，方法的意义。为了保证编写出的程序都符合相同的规范，保证一致性、统一性而建立的程序编码规范。编码规范和约定必须能明显改善代码可读性，并有助于代码管理、分类。

# 范围

本规范适用于本小组全体人员，作用于软件项目开发的代码编写阶段和后期维护阶段。
适用于所有基于 NodeJS及TypeScript 的软件开发工作。

# 编码规则

1. **缩进和空格：** 使用 2 或 4 个空格进行缩进，并在逻辑块之间留出空行，以提高可读性。
2. **命名约定：** 使用驼峰命名法（camelCase）来命名变量、函数和方法。类名使用帕斯卡命名法（PascalCase）。
3.   **类型注解：** 尽可能使用类型注解来为变量、函数参数和返回值指定类型，并充分利用 TypeScript 的类型系统来提高代码的可靠性。
4.   **变量声明：** 不允许随意定义全局变量；一个变量只能有一个用途；使用 `const` 或 `let` 来声明变量，尽量避免使用 `var`。
5.   **函数和方法：** 尽量为函数和方法添加明确的返回类型注解，并在可能的情况下使用箭头函数或函数表达式而不是函数声明。
6.   **代码块：** 使用大括号 `{}` 来包裹代码块，即使只有一行代码。
7.   **空行和注释：** 在逻辑上相关的代码块之间使用空行进行分隔，并使用注释解释关键代码的意图。
8.   **引号：** 在字符串字面量中一致地使用单引号 `'` 或双引号 `"`，但最好在整个项目中保持一致性。
9.   **导入和模块化：** 使用模块化的导入语法，例如 `import` 和 `export`，并按照一定的组织规则组织导入语句。
1.   **错误处理：** 在可能引发错误的地方使用 `try-catch` 块来捕获和处理异常，或者使用 `Promise` 的 `catch` 方法捕获异步操作中的错误。

# 设计规则

## 模块设计原则

- **DRY 原则（Don't Repeat Yourself）：** 避免重复代码，尽量将重复的逻辑抽象为可复用的函数、组件或工具函数。通过抽象和封装来减少代码冗余，提高代码的可维护性和可扩展性。
- **单一职责原则（Single Responsibility Principle）：** 每个组件或函数应该只关注一个单一的职责或功能。这样可以提高代码的可读性和可测试性，并使其更易于理解和维护。
- **组件化和模块化：** 将应用程序拆分为小型、独立的组件，每个组件负责特定的功能。这样可以提高代码的重用性、可测试性和可维护性。使用模块化的导入和导出语法来组织组件和功能模块。
- **遵循 React 生命周期：** 理解和正确使用 React 组件的生命周期方法，以在适当的时机执行特定的操作，例如数据获取、状态更新等。
- **合理地使用 React Hooks：** 使用 React Hooks（如 useState、useEffect）来管理组件的状态和副作用。确保正确地使用 Hooks，并遵循它们的规范和最佳实践。
- **性能优化：** 考虑应用程序的性能，避免不必要的重渲染，使用合适的数据缓存和异步操作，优化关键路径。在一些情况下，`map`、`filter` 和 `reduce` 等高阶函数内部使用了高效的算法和优化技巧，能够提高代码的性能。
- **合理使用函数式：** `map`、`filter` 和 `reduce` 等高阶函数提供了一种声明性的编程风格。通过使用这些函数，可以更清晰地表达代码的意图和逻辑，使代码更易于阅读和理解。它们提供了一种更抽象的方式来操作集合、数组或迭代器，从而减少了显式的循环和条件语句，使代码更加简洁和可读。

## 结构化要求

- 禁止出现两条等价的支路。
- 用 `if` 语句来强调只执行两组语句中的一组。
- 用 `switch case` 实现多路分支
- 避免从循环引出多个出口。
- 函数只有一个出口。
- 不使用条件赋值语句。
- 避免不必要的分支。
- 不要轻易用条件分支去替换逻辑表达式。

# 版本发布规范
## 版本号

代码包的版本号由圆点隔开的两个数字组成，第一个数字表示发行号，第二个数字表示该版的修改号。具体用法如下：

- 当代码包初版时，版本号为 V1.00；
- 当代码包被局部修改或bug修正时，发行号不变，修改号第二个数字增1。例如，对初版代码包作了第一次修订，则版本号为 V1.01；
- 当代码包在原有的基础上增加部分功能，发行号不变，修改号第一个数字增1，例如，对V1.12版的基础上增加部分功能，则新版本号为 V1.20；
- 当代码包有重要修改或局部修订累积较多导致代码包发生全局变化时，发行号增1。例如，在 V1.15 版的基础上作了一次全面修改，则新版本号为 V2.00。

文档的版本号规范同上。